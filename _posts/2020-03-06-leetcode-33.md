---
layout: post
title: ğŸ“ã€LeetCodeã€‘33~154. 4 é“ã€Œæœç´¢æ—‹è½¬æ’åºæ•°ç»„ã€é¢˜
date: 2020/3/6 15:00
---

æœ¬æ–‡æ¶‰åŠ 4 é“ã€Œæœç´¢æ—‹è½¬æ’åºæ•°ç»„ã€é¢˜ï¼š
* [LeetCode 33 é¢˜](https://leetcode-cn.com/problems/search-in-rotated-sorted-array/)ï¼šæœç´¢æ—‹è½¬æ’åºæ•°ç»„
* [LeetCode 81 é¢˜](https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/)ï¼šæœç´¢æ—‹è½¬æ’åºæ•°ç»„-ii
* [LeetCode 153 é¢˜](https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array/)ï¼šå¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼
* [LeetCode 154 é¢˜](https://leetcode-cn.com/problems/find-minimum-in-rotated-sorted-array-ii/)ï¼šå¯»æ‰¾æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼-ii

å¯ä»¥åˆ†ä¸º 3 ç±»ï¼š
* 33ã€81 é¢˜ï¼šæœç´¢**ç‰¹å®šå€¼**
* 153ã€154 é¢˜ï¼šæœç´¢**æœ€å°å€¼**
* 81ã€154 é¢˜ï¼šåŒ…å«**é‡å¤å…ƒç´ **

## 33. æœç´¢æ—‹è½¬æ’åºæ•°ç»„
é¢˜ç›®è¦æ±‚æ—¶é—´å¤æ‚åº¦ $O(logn)$ï¼Œæ˜¾ç„¶åº”è¯¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾ã€‚**äºŒåˆ†æŸ¥æ‰¾çš„è¿‡ç¨‹å°±æ˜¯ä¸æ–­æ”¶ç¼©å·¦å³è¾¹ç•Œ**ï¼Œè€Œæ€ä¹ˆç¼©å°åŒºé—´æ˜¯å…³é”®ã€‚

å¦‚æœæ•°ç»„ã€Œæœªæ—‹è½¬ã€ï¼Œåœ¨æ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªç‰¹å®šå…ƒç´  `target` çš„è¿‡ç¨‹ä¸ºï¼š
* è‹¥ `target == nums[mid]`ï¼Œç›´æ¥è¿”å›
* è‹¥ `target < nums[mid]`ï¼Œåˆ™ `target` ä½äºå·¦ä¾§åŒºé—´ `[left,mid)` ä¸­ã€‚ä»¤ `right = mid-1`ï¼Œåœ¨å·¦ä¾§åŒºé—´æŸ¥æ‰¾
* è‹¥ `target > nums[mid]`ï¼Œåˆ™ `target` ä½äºå³ä¾§åŒºé—´ `(mid,right]` ä¸­ã€‚ä»¤ `left = mid+1`ï¼Œåœ¨å³ä¾§åŒºé—´æŸ¥æ‰¾

ä½†æ˜¯è¿™é“é¢˜ï¼Œç”±äºæ•°ç»„ã€Œè¢«æ—‹è½¬ã€ï¼Œæ‰€ä»¥å·¦ä¾§æˆ–è€…å³ä¾§**åŒºé—´ä¸ä¸€å®šæ˜¯è¿ç»­çš„**ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚ä½•åˆ¤æ–­ `target` ä½äºå“ªä¸ªåŒºé—´ï¼Ÿ

æ ¹æ®æ—‹è½¬æ•°ç»„çš„ç‰¹æ€§ï¼Œ**å½“å…ƒç´ ä¸é‡å¤æ—¶ï¼Œå¦‚æœ `nums[i] <= nums[j]`ï¼Œè¯´æ˜åŒºé—´ `[i,j]` æ˜¯ã€Œè¿ç»­é€’å¢ã€çš„**ã€‚
> `i`ã€`j` å¯ä»¥é‡åˆï¼Œæ‰€ä»¥è¿™é‡Œä½¿ç”¨çš„æ¯”è¾ƒè¿ç®—ç¬¦æ˜¯ã€Œå°äºç­‰äºã€

å› æ­¤ï¼Œåœ¨æ—‹è½¬æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾ä¸€ä¸ªç‰¹å®šå…ƒç´ æ—¶ï¼š
* è‹¥ `target == nums[mid]`ï¼Œç›´æ¥è¿”å›
* **è‹¥ `nums[left] <= nums[mid]`ï¼Œè¯´æ˜å·¦ä¾§åŒºé—´ `[left,mid]`ã€Œè¿ç»­é€’å¢ã€**ã€‚æ­¤æ—¶ï¼š
    * **è‹¥ `nums[left] <= target <= nums[mid]`ï¼Œè¯´æ˜ `target` ä½äºå·¦ä¾§**ã€‚ä»¤ `right = mid-1`ï¼Œåœ¨å·¦ä¾§åŒºé—´æŸ¥æ‰¾
    * å¦åˆ™ï¼Œä»¤ `left = mid+1`ï¼Œåœ¨å³ä¾§åŒºé—´æŸ¥æ‰¾
* å¦åˆ™ï¼Œè¯´æ˜å³ä¾§åŒºé—´ `[mid,right]`ã€Œè¿ç»­é€’å¢ã€ã€‚æ­¤æ—¶ï¼š
    * è‹¥ `nums[mid] <= target <= nums[right]`ï¼Œè¯´æ˜ `target` ä½äºå³ä¾§åŒºé—´ã€‚ä»¤ `left = mid+1`ï¼Œåœ¨å³ä¾§åŒºé—´æŸ¥æ‰¾
    * å¦åˆ™ï¼Œä»¤ `right = mid-1`ï¼Œåœ¨å·¦ä¾§åŒºé—´æŸ¥æ‰¾
* æ³¨æ„ï¼šåŒºé—´æ”¶ç¼©æ—¶**ä¸åŒ…å« `mid`**ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®é™…æ”¶ç¼©åçš„åŒºé—´æ˜¯ `[left,mid)` æˆ–è€… `(mid,right]`

å¯ä»¥å¾ˆå®¹æ˜“åœ°å†™å‡ºä»£ç ï¼š
```go
func search(nums []int, target int) int {
	if len(nums) == 0 {
		return -1
	}
	left, right, mid := 0, len(nums)-1, 0
	for left <= right {
		mid = (left + right) / 2
		if nums[mid] == target {
			return mid
		}
		// [left,mid] è¿ç»­é€’å¢
		if nums[left] <= nums[mid] {
			if nums[left] <= target && target <= nums[mid] {
				right = mid - 1 // åœ¨å·¦ä¾§ [left,mid) æŸ¥æ‰¾
			} else {
				left = mid + 1
			}
		} else { // [mid,right] è¿ç»­é€’å¢
			if nums[mid] <= target && target <= nums[right] {
				left = mid + 1 // åœ¨å³ä¾§ (mid,right] æŸ¥æ‰¾
			} else {
				right = mid - 1
			}
		}
	}
	return -1
}
```

ä½†æ˜¯æˆ‘ä»¬å¯èƒ½è¿˜ä¼šæœ‰å¦‚ä¸‹ç–‘é—®ï¼š

<details markdown="1">
<summary markdown="span">åˆ¤æ–­æ¡ä»¶ `nums[left] <= nums[mid]` å¯å¦æ›¿æ¢ä¸º `nums[left] < nums[mid]`ï¼Ÿ</summary>
ç–‘é—®ï¼šå€¼ä¸æ˜¯ä¸é‡å¤å—ï¼Ÿç”¨ `nums[left] < nums[mid]` å¯å¦åˆ¤æ–­ `[left,mid]` è¿ç»­é€’å¢ï¼Ÿ

ç­”æ¡ˆï¼šä¸å¯ä»¥ã€‚éœ€è¦è€ƒè™‘ `left` å’Œ `mid` ç›¸ç­‰çš„æƒ…å†µï¼Œæ­¤æ—¶ `[left,mid]` åªæœ‰ä¸€ä¸ªå…ƒç´ ã€‚
</details>


<details markdown="1">
<summary markdown="span">åˆ¤æ–­æ¡ä»¶ `nums[left] <= nums[mid]` å¯å¦æ›¿æ¢ä¸º `nums[left] <= nums[mid-1]`ï¼Ÿ</summary>

ç–‘é—®ï¼šæ—¢ç„¶ç¬¬ä¸€æ­¥å·²ç»æ’é™¤äº† `mid`ï¼Œé‚£ä¹ˆäºŒã€ä¸‰æ­¥åªéœ€è¦åˆ¤æ–­ `[left,mid-1]` å’Œ `[mid+1,right]` æ˜¯å¦è¿ç»­é€’å¢å°±å¯ä»¥äº†ã€‚äºæ˜¯å†™ä¸‹äº†è¿™æ ·çš„ä»£ç ï¼š
```go
// ...
        // mid > 0 é˜²æ­¢è¶Šç•Œ
        if mid > 0 && nums[left] <= nums[mid-1] { // [left,mid-1] é€’å¢
            if nums[left] <= target && target <= nums[mid-1] {
                right = mid - 1
            } else {
                left = mid + 1
            }
        } else { // [mid+1,right] é€’å¢
            // mid < n-1 é˜²æ­¢è¶Šç•Œ
            if mid < n-1 && nums[mid+1] <= target && target <= nums[right] {
                left = mid + 1
            } else {
                right = mid - 1
            }
        }
// ...
```
ä½†æ˜¯è¿™æ ·å†™å´æ˜¯é”™çš„ï¼é”™åœ¨å“ªé‡Œå‘¢ï¼Ÿ

é”™åœ¨ä¸¤ä¸ªè¶Šç•Œåˆ¤æ–­ä¸Šã€‚ä¸Šé¢ä»£ç ä¸­çš„è¶Šç•Œåˆ¤æ–­ï¼Œä»…ä»…æ˜¯ä¸ºäº†è®© `mid-1`ã€`mid+1` ä¸è¶…è¿‡æ•°ç»„å·¦å³è¾¹ç•Œã€‚ä½†å®é™…ä¸Šï¼Œæˆ‘ä»¬è¦åˆ¤æ–­çš„æ˜¯ `[left,mid-1]` å’Œ `[mid+1,right]` ä¸ä¸ºç©ºã€‚å› æ­¤è¶Šç•Œåˆ¤æ–­åº”è¯¥æ›´æ”¹ä¸ºï¼š
```go
        if mid > left && nums[left] <= nums[mid-1] { // [left,mid-1] é€’å¢
            // ...
        } else {
            if mid < right && nums[mid+1] <= target && target <= nums[right] {
                // ...
            }
        }
```

æ˜¾ç„¶ï¼Œè¿™ç§æ–¹æ³•éœ€è¦å¼•å…¥é¢å¤–çš„**è¶Šç•Œåˆ¤æ–­**ï¼Œä¸”å®¹æ˜“å‡ºé”™ã€‚å¹¶æ²¡æœ‰ä¸€å¼€å§‹**åŒ…æ‹¬ `mid`** çš„å†™æ³•ç®€ä¾¿ã€‚
</details>

## 81. æœç´¢æ—‹è½¬æ’åºæ•°ç»„-ii
è¿™é“é¢˜æ˜¯ 33 é¢˜çš„å‡çº§ç‰ˆï¼Œå…ƒç´ å¯ä»¥é‡å¤ã€‚**å½“ `nums[left] == nums[mid]` æ—¶**ï¼Œæ— æ³•åˆ¤æ–­ `target` ä½äºå·¦ä¾§è¿˜æ˜¯å³ä¾§ï¼Œæ­¤æ—¶æ— æ³•ç¼©å°åŒºé—´ï¼Œé€€åŒ–ä¸º**é¡ºåºæŸ¥æ‰¾**ã€‚

é¡ºåºæŸ¥æ‰¾çš„ä¸€ç§æ–¹æ³•æ˜¯ç›´æ¥éå† `[left,right]` æ¯ä¸€é¡¹ï¼š
```go
if nums[left] == nums[mid] {
    for i := left; i <= right; i++ { 
        if nums[i] == target {
            return i
        }
}
```

å¦ä¸€ç§æ–¹æ³•æ˜¯ä»¤ `left++`ï¼Œå»æ‰ä¸€ä¸ªå¹²æ‰°é¡¹ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯é¡ºåºæŸ¥æ‰¾ï¼š
```go
if nums[left] == nums[mid] {
    left++
    continue
}
```

## 153. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼
å¦‚æœæ•°ç»„æ²¡æœ‰ç¿»è½¬ï¼Œå³ `nums[left] <= nums[right]`ï¼Œåˆ™ `nums[left]` å°±æ˜¯æœ€å°å€¼ï¼Œç›´æ¥è¿”å›ã€‚

å¦‚æœæ•°ç»„ç¿»è½¬ï¼Œéœ€è¦æ‰¾åˆ°æ•°ç»„ä¸­ç¬¬äºŒéƒ¨åˆ†çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼š  
![](/media/15834811968997.jpg)

ä¸‹é¢è®¨è®ºæ•°ç»„ç¿»è½¬çš„æƒ…å†µä¸‹ï¼Œå¦‚ä½•æ”¶ç¼©åŒºé—´ä»¥æ‰¾åˆ°è¿™ä¸ªå…ƒç´ ï¼š
* è‹¥ `nums[left] <= nums[mid]`ï¼Œè¯´æ˜åŒºé—´ `[left,mid]` è¿ç»­é€’å¢ï¼Œåˆ™æœ€å°å…ƒç´ ä¸€å®šä¸åœ¨è¿™ä¸ªåŒºé—´é‡Œï¼Œ**å¯ä»¥ç›´æ¥æ’é™¤**ã€‚å› æ­¤ï¼Œä»¤ `left = mid+1`ï¼Œåœ¨ `[mid+1,right]` ç»§ç»­æŸ¥æ‰¾  
![](/media/15834812094039.jpg)
* å¦åˆ™ï¼Œè¯´æ˜åŒºé—´ `[left,mid]` **ä¸è¿ç»­**ï¼Œåˆ™æœ€å°å…ƒç´ ä¸€å®šåœ¨è¿™ä¸ªåŒºé—´é‡Œã€‚å› æ­¤ï¼Œä»¤ `right = mid`ï¼Œåœ¨ `[left,mid]` ç»§ç»­æŸ¥æ‰¾
* `[left,right]` è¡¨ç¤ºå½“å‰æœç´¢çš„åŒºé—´ã€‚**æ³¨æ„ `right` æ›´æ–°æ—¶ä¼šè¢«è®¾ä¸º `mid`** è€Œä¸æ˜¯ `mid-1`ï¼Œå› ä¸º `mid` æ— æ³•è¢«æ’é™¤ã€‚è¿™ä¸€ç‚¹å’Œã€Œ33 é¢˜ æŸ¥æ‰¾ç‰¹å®šå…ƒç´ ã€æ˜¯ä¸åŒçš„

ä»£ç å¦‚ä¸‹ï¼š
```go
func findMin (nums []int) int {
    left, right := 0, len(nums)-1
    for left <= right { // å®é™…ä¸Šæ˜¯ä¸ä¼šè·³å‡ºå¾ªç¯ï¼Œå½“ left==right æ—¶ç›´æ¥è¿”å›
        if nums[left] <= nums[right] { // å¦‚æœ [left,right] é€’å¢ï¼Œç›´æ¥è¿”å›
            return nums[left]
        }
        mid := left + (right-left)>>1
        if nums[left] <= nums[mid] { // [left,mid] è¿ç»­é€’å¢ï¼Œåˆ™åœ¨ [mid+1,right] æŸ¥æ‰¾
            left = mid + 1
        }else {
            right = mid // [left,mid] ä¸è¿ç»­ï¼Œåœ¨ [left,mid] æŸ¥æ‰¾
        }
    }
    return -1
}
```

## 154. æœç´¢æ—‹è½¬æ’åºæ•°ç»„ä¸­çš„æœ€å°å€¼-ii
è¿™é“é¢˜æ˜¯ 153 é¢˜çš„å‡çº§ç‰ˆï¼Œå…ƒç´ å¯ä»¥é‡å¤ã€‚å’Œ 81 é¢˜ä¸€æ ·ï¼Œå½“ `nums[left] == nums[mid]` æ—¶ï¼Œé€€åŒ–ä¸ºé¡ºåºæŸ¥æ‰¾ã€‚

81 é¢˜æä¾›äº†ä¸¤ç§æ–¹æ³•ï¼š
* ä¸€ç§æ˜¯ç›´æ¥éå† `[left,right]` æ¯ä¸€é¡¹
* å¦ä¸€ç§æ˜¯ `left++`ï¼Œè·³è¿‡ä¸€ä¸ªå¹²æ‰°é¡¹


**154 é¢˜å¯ä»¥ç›´æ¥ä½¿ç”¨ç¬¬ä¸€ç§æ–¹æ³•**ä¿®æ”¹ 153 é¢˜çš„ä»£ç ã€‚ä½†æ˜¯å¯¹äº**ç¬¬äºŒç§æ–¹æ³•ï¼Œéœ€è¦é¢å¤–å¢åŠ ä¸€ä¸ªåˆ¤æ–­ï¼šå½“åªæœ‰ä¸€ä¸ªå…ƒç´ æ—¶ï¼ˆå³ `left == right`ï¼‰ï¼Œä¹Ÿè¿”å› `nums[left]`**ã€‚

ç¬¬äºŒç§æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š
```go
func findMin (nums []int) int {
    left, right := 0, len(nums)-1
    for left <= right { // å®é™…ä¸Šä¸ä¼šè·³å‡ºå¾ªç¯
        if nums[left] < nums[right] || left == right { // è¿™é‡Œçš„åˆ¤æ–­æ¡ä»¶å¢åŠ ä¸€ä¸ªåˆ¤æ–­æ¡ä»¶
            return nums[left]
        }
        mid := left + (right-left)>>1
        if nums[left] < nums[mid] {
            left = mid + 1
        } else if nums[left] == nums[mid] {
            left++ // æ— æ³•åˆ¤æ–­ mid ä½äºå“ªä¸€éƒ¨åˆ†ï¼Œå»æ‰å¹²æ‰°é¡¹
        } else {
            right = mid
        }
    }
    return -1
}
```

è¿™æ˜¯å› ä¸ºåœ¨ 153 é¢˜ä¸­ï¼Œå…ƒç´ ä¸é‡å¤ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨ `nums[left] <= nums[right]` åˆ¤æ–­ `[left,right]` æ˜¯å¦é€’å¢ï¼Œå¦‚æœæ˜¯ï¼Œ`nums[left]` å°±æ˜¯æœ€å°çš„å…ƒç´ ï¼Œç›´æ¥è¿”å›ã€‚ä½†æ˜¯ 154 é¢˜ä¸­ï¼Œå…ƒç´ å¯èƒ½é‡å¤ï¼Œæ­¤æ—¶åªèƒ½ç”¨ `nums[left] < nums[right]` åˆ¤æ–­ `[left,right]` æ˜¯å¦é€’å¢ã€‚ä½†æ˜¯è¿™ç§åˆ¤æ–­å®é™…æ˜¯å‡è®¾äº†åŒºé—´ `[left,right]` ä¸­è‡³å°‘æœ‰ä¸¤ä¸ªå…ƒç´ ã€‚å¦‚æœåŒºé—´ä¸­åªæœ‰ä¸€ä¸ªå…ƒç´ ï¼Œå³ `left == right`ï¼Œæ­¤æ—¶ `nums[left]` ä¹Ÿæ˜¯æœ€å°çš„å…ƒç´ ï¼Œå¯ä»¥ç›´æ¥è¿”å›ã€‚è¿™ä¸ªæƒ…å†µè¢«é—æ¼äº†ï¼Œéœ€è¦æˆ‘ä»¬é¢å¤–åŠ ä¸Šã€‚

## æ€»ç»“
åœ¨æ—‹è½¬æ’åºæ•°ç»„ä¸­è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾æ—¶ï¼Œæ— è®ºæ˜¯æœç´¢ç‰¹å®šå€¼ï¼Œè¿˜æ˜¯æœç´¢æœ€å°å€¼ï¼Œéƒ½éœ€è¦**åœ¨å·¦å³ä¸¤ä¸ªåŒºé—´é‡Œï¼Œæ‰¾åˆ°ã€Œè¿ç»­é€’å¢ã€çš„é‚£ä¸ªåŒºé—´**ã€‚

**åˆ¤æ–­åŒºé—´æ˜¯å¦ã€Œè¿ç»­é€’å¢ã€ï¼Œåªéœ€æ¯”è¾ƒåŒºé—´è¾¹ç•Œå€¼**ï¼šå¦‚æœ `nums[left] <= nums[mid]`ï¼Œåˆ™åŒºé—´ `[left,mid]` è¿ç»­é€’å¢ï¼›åä¹‹ï¼ŒåŒºé—´ `[mid,right]` è¿ç»­é€’å¢ã€‚ä½†æ˜¯ä¸Šè¿°åˆ¤æ–­ä»…é€‚ç”¨äº**æ•°ç»„ä¸­ä¸å«é‡å¤å…ƒç´ **çš„æƒ…å†µï¼Œå¦‚æœæ•°ç»„ä¸­åŒ…å«é‡å¤å…ƒç´ ï¼Œé‚£ä¹ˆåœ¨ `nums[left]==nums[mid]` æ—¶å°†é€€åŒ–ä¸º**çº¿æ€§æŸ¥æ‰¾**ã€‚

æ‰¾åˆ°ã€Œè¿ç»­é€’å¢ã€çš„åŒºé—´åï¼Œé—®é¢˜å°±å˜å¾—ç®€å•äº†è®¸å¤šï¼š
* 33 é¢˜ï¼ŒæŸ¥æ‰¾ç‰¹å®šå€¼ï¼šåªéœ€è¦**åˆ¤æ–­ç›®æ ‡å€¼åœ¨ã€Œè¿ç»­é€’å¢ã€åŒºé—´å†…è¿˜æ˜¯åŒºé—´å¤–**ã€‚æ¯”å¦‚å½“åŒºé—´ `[left,mid]` è¿ç»­é€’å¢æ—¶ï¼Œè‹¥ç›®æ ‡å€¼ä½äºè¯¥åŒºé—´å†…ï¼Œåˆ™ `right = mid-1`ï¼›è‹¥ç›®æ ‡å€¼ä½äºè¯¥åŒºé—´å¤–ï¼Œåˆ™ `left = mid+1`ã€‚å¦‚æœæ˜¯åŒºé—´ `[mid,right]` è¿ç»­é€’å¢ï¼Œä¹Ÿå¯ä»¥ç”¨ç±»ä¼¼çš„æ–¹æ³•æ”¶ç¼©åŒºé—´
* 153 é¢˜ï¼ŒæŸ¥æ‰¾æœ€å°å€¼ï¼šåªéœ€è¦**æ’é™¤å·¦ä¾§æˆ–è€…å³ä¾§çš„ä¸€æ®µã€Œè¿ç»­åŒºé—´ã€ï¼Œä½¿å¾— `[left,right]` ä¸è¿ç»­ï¼Œå°±å¯ä»¥æ‰¾åˆ°æœ€å°å€¼**

æœ¬æ–‡å‘è¡¨åœ¨æˆ‘çš„åšå®¢ [https://imageslr.github.io/](https://imageslr.github.io/)ã€‚æˆ‘ä¹Ÿä¼šåˆ†äº«æ›´å¤šçš„é¢˜è§£ï¼Œä¸€èµ·äº¤æµï¼Œå…±åŒè¿›æ­¥ï¼